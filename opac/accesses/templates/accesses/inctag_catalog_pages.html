{% load i18n %}

<script type="text/javascript">
    google.load('visualization', '1', {packages: ['table', 'corechart']});
    google.setOnLoadCallback(drawCharts);

    function drawCharts() {

      data = {{ tab|safe }};

      //for ( line in data){
        //if (line > 0) {
          //date = data[line][0];
          //data[line][0] = new Date(date.substring(0,4), date.substring(6));
        //}
      //}

      var data = new google.visualization.arrayToDataTable(data);

      var table = new google.visualization.Table(document.getElementById('table_div'));
      table.draw(data);

      options = {
            'title': '{% trans 'Catalog Accesses by page type' %}',
            'vAxis': {'title': '{% trans 'acceses' %}', 'logScale': true},
            'hAxis': {'title': '{% trans 'months' %}'},
            'height': 400,
            'curveType': 'function'
      }

      var chart = new google.visualization.LineChart(document.getElementById('chart_div'));
      chart.draw(data, options);

    }
</script>